{"version":3,"sources":["JsScroll.js"],"names":["JsScroll","throttleTimer","scrollElements","document","querySelectorAll","elementInView","el","threshold","top","getBoundingClientRect","windowHeight","window","innerHeight","documentElement","clientHeight","handleScrollAnimation","callback","time","setTimeout","throttle","forEach","delay","getAttribute","reset","hasAttribute","offset","parseFloat","classList","add","remove","init","length","addEventListener","stop","removeEventListener","disable"],"mappings":"AAAA,SAASA,WACP,IAAIC,GAAgB,EAChBC,EAAiBC,SAASC,iBAAiB,mBAE/C,SAASC,EAAcC,EAAIC,EAAY,GACrC,MAAMC,EAAMF,EAAGG,wBAAwBD,IACjCE,EACJC,OAAOC,aAAeT,SAASU,gBAAgBC,aAEjD,OADeN,EAAM,GAAKA,GAAOE,EAAeH,EAIlD,SAASQ,KAoBT,SAAkBC,EAAUC,GAC1B,GAAIhB,EAAe,OAEnBA,GAAgB,EAChBiB,WAAW,KACTF,IACAf,GAAgB,GACfgB,GA1BHE,CAAS,KACPjB,EAAekB,QAASd,IACtB,MAAMe,EAAQf,EAAGgB,aAAa,wBAA0B,EAClDC,EAAQjB,EAAGkB,aAAa,uBACxBC,EAASnB,EAAGgB,aAAa,yBAA2B,KAEzCjB,EAAcC,EAAIoB,WAAWD,IAG5CP,WAAW,KACTZ,EAAGqB,UAAUC,IAAI,uBAChBP,GACME,IAAUlB,EAAcC,EAAI,IACrCA,EAAGqB,UAAUE,OAAO,yBAGvB,KAaL,SAASC,IACuB,IAA1B5B,EAAe6B,SAEnBpB,OAAOqB,iBAAiB,SAAUjB,GAElCA,KAGF,SAASQ,IACPrB,EAAekB,QAASd,IACtBA,EAAGqB,UAAUE,OAAO,sBACpBvB,EAAGqB,UAAUE,OAAO,wBAGtBI,IACAH,IAGF,SAASG,IACPtB,OAAOuB,oBAAoB,SAAUnB,GAWvC,MAAO,CACLe,KAAAA,EACAG,KAAAA,EACAV,MAAAA,EACAY,QAZF,WACEF,IACAV,IACArB,EAAekB,QAASd,IACtBA,EAAGqB,UAAUC,IAAI","sourcesContent":["function JsScroll() {\n  let throttleTimer = false;\n  let scrollElements = document.querySelectorAll(\"[data-jsscroll]\");\n\n  function elementInView(el, threshold = 1) {\n    const top = el.getBoundingClientRect().top;\n    const windowHeight =\n      window.innerHeight || document.documentElement.clientHeight;\n    const inView = top > 0 && top <= windowHeight / threshold;\n    return inView;\n  }\n\n  function handleScrollAnimation() {\n    throttle(() => {\n      scrollElements.forEach((el) => {\n        const delay = el.getAttribute(\"data-jsscroll-delay\") || 0;\n        const reset = el.hasAttribute(\"data-jsscroll-reset\");\n        const offset = el.getAttribute(\"data-jsscroll-offset\") || 1.25;\n\n        const isInView = elementInView(el, parseFloat(offset));\n\n        if (isInView) {\n          setTimeout(() => {\n            el.classList.add(\"jsScroll__scrolled\");\n          }, delay);\n        } else if (reset && !elementInView(el, 0)) {\n          el.classList.remove(\"jsScroll__scrolled\");\n        }\n      });\n    }, 250);\n  }\n\n  function throttle(callback, time) {\n    if (throttleTimer) return;\n\n    throttleTimer = true;\n    setTimeout(() => {\n      callback();\n      throttleTimer = false;\n    }, time);\n  }\n\n  function init() {\n    if (scrollElements.length === 0) return;\n\n    window.addEventListener(\"scroll\", handleScrollAnimation);\n\n    handleScrollAnimation();\n  }\n\n  function reset() {\n    scrollElements.forEach((el) => {\n      el.classList.remove(\"jsScroll__scrolled\");\n      el.classList.remove(\"jsScroll__disabled\");\n    });\n\n    stop();\n    init();\n  }\n\n  function stop() {\n    window.removeEventListener(\"scroll\", handleScrollAnimation);\n  }\n\n  function disable() {\n    stop();\n    reset();\n    scrollElements.forEach((el) => {\n      el.classList.add(\"jsScroll__disabled\");\n    });\n  }\n\n  return {\n    init,\n    stop,\n    reset,\n    disable,\n  };\n}\n"],"file":"JsScroll.min.js"}